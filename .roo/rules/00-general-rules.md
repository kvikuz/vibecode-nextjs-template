# Общие правила и принципы RooCode

## Описание
Этот документ содержит общие правила, принципы дизайна, стандарты кодирования и рекомендации, которые применяются для веб-разработки и full-stack разработки. RooCode должен применять их всегда, когда этого требует запрос или задача.

## Принципы дизайна

### Цветовая система
**Всегда используйте ровно 3-5 цветов всего:**

1. **Один основной брендовый цвет** - выбирайте первым
2. **2-3 нейтральных цвета** - белый, оттенки серого, варианты черного
3. **1-2 акцентных цвета максимум** - для выделения и призывов к действию
4. **НИКОГДА не превышайте 5 цветов** без явного разрешения пользователя

**Правила выбора цветов:**
- Используйте психологию цвета: теплые тона (оранжевый, красный) для энергии; холодные тона (синий, зеленый) для доверия
- Поддерживайте WCAG AA контрастные соотношения (4.5:1 для обычного текста, 3:1 для крупного текста)
- Тестируйте цвета в светлом и темном режимах
- НЕ используйте более 2 акцентных цветов

**Правила градиентов:**
- **ПО УМОЛЧАНИЮ**: Избегайте градиентов полностью - используйте сплошные цвета
- **ЕСЛИ градиенты необходимы**: Только как тонкие акценты, никогда для основных элементов
- **ТОЛЬКО аналогичные цвета**: синий→бирюзовый, фиолетовый→розовый, оранжевый→красный
- **НИКОГДА не смешивайте противоположные температуры**: розовый→зеленый, оранжевый→синий, красный→голубой
- Максимум 2-3 цветовых перехода, никаких сложных многоступенчатых градиентов

### Типографика
**Всегда ограничивайте максимум 2 семействами шрифтов:**

1. **ОДИН шрифт для заголовков** (можно использовать несколько весов: 400, 600, 700)
2. **ОДИН шрифт для основного текста** (обычно веса 400 и 500)
3. **НИКОГДА не используйте более 2 разных семейств шрифтов**

**Рекомендуемые комбинации Google Fonts:**

*Современные/Технические:*
- Space Grotesk Bold + DM Sans Regular
- IBM Plex Sans Semibold + IBM Plex Sans Regular
- Geist Bold + Geist Regular
- Work Sans Bold + Source Sans Pro Regular
- Manrope Bold + Open Sans Regular

*Редакционные/Контентные:*
- Playfair Display Bold + Source Sans Pro Regular
- Merriweather Bold + Open Sans Regular
- Crimson Text Bold + Work Sans Regular
- Spectral Bold + DM Sans Regular
- Libre Baskerville Bold + PT Sans Regular

**Правила типографики:**
- Используйте line-height между 1.4-1.6 для основного текста
- Создавайте четкую иерархию с прыжками размеров: text-sm → text-base → text-lg → text-xl → text-2xl
- НЕ используйте декоративные шрифты для основного текста
- НЕ используйте размеры шрифтов меньше 14px для основного контента

### Структура макета
**Всегда проектируйте mobile-first:**

1. **Начинайте с мобильного** (320px) дизайна первым
2. **Добавляйте планшетные breakpoints** (768px) вторыми
3. **Добавляйте десктопные** (1024px+) улучшения последними
4. **НИКОГДА не проектируйте desktop-first** и не масштабируйте вниз

**Правила макета:**
- Используйте щедрые отступы - минимум 16px (space-4) между секциями
- Группируйте связанные элементы в пределах 8px (space-2) друг от друга
- Выравнивайте элементы консистентно (влево, по центру или вправо - выберите один на секцию)
- Используйте консистентные max-widths: `max-w-sm`, `max-w-md`, `max-w-lg`, `max-w-xl`
- НЕ сжимайте элементы вместе без дыхания
- НЕ смешивайте левое и правое выравнивание в одной секции

### Tailwind CSS реализация
**Используйте эти конкретные Tailwind паттерны:**

**Приоритет методов макета (используйте в этом порядке):**
1. Flexbox для большинства макетов: `flex items-center justify-between`
2. CSS Grid только для сложных 2D макетов: например `grid grid-cols-3 gap-4`
3. НИКОГДА не используйте floats или absolute positioning, если это не абсолютно необходимо

**Обязательные Tailwind паттерны:**
- Используйте gap утилиты для отступов: `gap-4`, `gap-x-2`, `gap-y-6`
- Предпочитайте gap-* над space-* утилитами для отступов
- Используйте семантические Tailwind классы: `items-center`, `justify-between`, `text-center`
- Используйте responsive префиксы: `md:grid-cols-2`, `lg:text-xl`
- Используйте оба шрифта через классы `font-sans`, `font-serif` и `font-mono` в вашем коде

**НЕ используйте:**
- Смешивайте margin/padding с gap утилитами на том же элементе
- Произвольные значения, если это не абсолютно необходимо: избегайте `w-[347px]`
- `!important` или произвольные свойства

## Стандарты кодирования

### HTML и семантика
- **Используйте семантические HTML элементы** когда это уместно, как `main` и `header`
- **Убедитесь в правильном использовании ARIA ролей и атрибутов**
- **Помните об использовании "sr-only" Tailwind класса** для screen reader only текста
- **Добавляйте alt текст для всех изображений**, если только они не декоративные или не повторяющиеся для screen readers

### React и Next.js
- **По умолчанию используйте Next.js App Router**; другие фреймворки могут не работать в preview
- **Разбивайте код на несколько компонентов** - не создавайте один большой page.tsx файл

### TypeScript
- **Используйте строгую типизацию** для всех функций и компонентов
- **Определяйте интерфейсы** для props и данных
- **Используйте generic типы** когда это уместно
- **Избегайте any** - используйте unknown или конкретные типы

### Производительность
- **Оптимизируйте рендеринг** с помощью React.memo, useMemo, useCallback
- **Используйте lazy loading** для больших компонентов
- **Оптимизируйте изображения** с помощью Next.js Image компонента
- **Минимизируйте bundle size** избегая ненужных зависимостей

### Безопасность
- **Валидируйте все пользовательские входы** на клиенте и сервере
- **Используйте параметризованные запросы** для предотвращения SQL injection
- **Защищайте от XSS** с помощью правильного экранирования
- **Используйте HTTPS** для всех внешних запросов

### Доступность
- **Поддерживайте навигацию с клавиатуры** для всех интерактивных элементов
- **Обеспечивайте достаточный контраст** между текстом и фоном
- **Добавляйте ARIA labels** для сложных компонентов
- **Тестируйте с screen readers** когда это возможно

## Рекомендации по интеграциям

### Базы данных
- **НИКОГДА не используйте ORM** для подключения к SQL базе данных без запроса
- **Можете генерировать SQL скрипты** для создания и заполнения необходимых таблиц в папке `scripts`
- **Пользователям НЕ нужно выходить** из RooCode для запуска этих скриптов
- **Вместо редактирования существующего скрипта** RooCode ДОЛЖЕН создать новый файл с отредактированным скриптом с номером версии
- **В качестве базы данных RooCode ДОЛЖЕН использовать ВСЕГДА YDB**
- **RooCode ДОЛЖЕН разворачивать базу данных ВСЕГДА в Yandex Cloud Managed Service for YDB в режиме Serverless**, если пользователь явно не просит другого
- Если модель данных не содержит много связей между сущностями и для еег хранения достаточно json-структуры, то используй совместимый с AWS DynamoDB Document API и AWS SDK
- Если модель данных содержит много связей между сущностями или имеет сложную релляционную структуру, то используй YQL и YDB Native SDK

### AI интеграции
- **RooCode ДОЛЖЕН использовать AI SDK** для создания AI приложений с AI интеграциями
- **Используйте AI SDK через 'ai' и '@ai-sdk'** - НИКОГДА не используйте 'langchain' или 'openai-edge'
- **НИКОГДА не используйте runtime = 'edge'** в API routes при использовании AI SDK

### Аутентификация
- **Используйте только email и password аутентификацию по умолчанию**, если пользователь явно не просит другое
- **Используйте server components** для страниц, требующих аутентификации, когда это возможно

## Рекомендации по развертыванию
- Для развертывания ВСЕГДА запускай команду `cd deploy && bash deploy.sh`, если пользователь не указал явно другого

## Принципы принятия решений

### Креативность
**Используйте это дерево решений для определения подходящего уровня креативности:**

**ЕСЛИ запрос пользователя расплывчатый или использует слова как "modern/clean/simple":**
- БУДЬТЕ СМЕЛЫМИ: используйте неожиданные цветовые комбинации, уникальные макеты, креативные отступы
- Подталкивайте границы, сохраняя удобство использования
- Делайте решительные креативные выборы вместо игры в безопасность

**ЕСЛИ пользователь предоставляет конкретные бренд-гайды или ограничения:**
- БУДЬТЕ УВАЖИТЕЛЬНЫМИ: работайте в рамках границ, добавляйте тонкие креативные штрихи
- Фокусируйтесь на отличном выполнении их видения
- Креативная сдержанность показывает зрелость дизайна

**ЕСЛИ строите enterprise/профессиональные приложения:**
- БУДЬТЕ КОНСЕРВАТИВНЫМИ: приоритет удобству использования и конвенции
- Используйте установленные паттерны с отполированным выполнением
- Креативность через отличное мастерство, не смелые выборы

**ЕСЛИ строите личные/креативные проекты:**
- БУДЬТЕ ЭКСПЕРИМЕНТАЛЬНЫМИ: пробуйте нетрадиционные макеты и взаимодействия
- Используйте креативную типографику и уникальные визуальные элементы
- Принимайте просчитанные риски, которые улучшают пользовательский опыт

### Финальное правило
**Создавайте что-то интересное вместо скучного, но никогда не уродливое.**
